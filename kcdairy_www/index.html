<!DOCTYPE html>
<html ng-app="fmcg">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no, width=device-width height=device-height">
        <link rel="stylesheet" type="text/css" href="css/index.css" />
        <link href="css/ionic.min.css" rel="stylesheet">
        <link href="css/ng-grid.min.css" rel="stylesheet">
        <link href="css/messenger.css" rel="stylesheet">
        <link href="css/messenger-theme-future.css" rel="stylesheet">
        <link href="css/calendar.css" rel="stylesheet" type="text/css"/>
        <!-- <link data-require="jqueryui@1.10.0" data-semver="1.10.0" rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.10.0/css/smoothness/jquery-ui-1.10.0.custom.min.css" />
<link data-require="jqueryui@1.10.0" data-semver="1.10.0" href="css/jQuery-ui-1.10.0.custom.min.css" rel="stylesheet" /> -->
        <link href="lib/jquery-ui-1.10.0.custom/css/ui-lightness/jquery-ui-1.10.0.custom.min.css" rel="stylesheet" />
        <style>
            @media (max-width: 600px) {
                .facet_sidebar {
                    display: none;
                }
            }
            @media (max-width:  000px) {
                .facet_sidebar {
                    display: none;
                }
            }
        </style>

        <title>Fmcg</title>
    </head>
    <body>
        <!-- Libs -->

        <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCOY8BqGMFqo7Ij2n1O8b4RcL443zjoI_o&libraries=places" async defer></script>
        <script src="lib/jquery-1.11.0.min.js"></script>
  <!-- <script data-require="jqueryui@1.10.0" data-semver="1.10.0" src="http://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.10.0/jquery-ui.js"></script>
     <script data-require="jqueryui@1.10.0" data-semver="1.10.0" src="lib/jQuery-ui.js"></script> -->
        <script src="lib/jquery-ui-1.10.0.custom/js/jquery-ui-1.10.0.custom.js"></script>
        <script src="lib/angular/angular.min.js"></script>

        <script src="lib/angular/angular-animate.min.js"></script>
        <script src="lib/angular/angular-resource.min.js"></script>

        <script src="lib/angular/angular-sanitize.min.js"></script>
        <script src="lib/angular/angular-ui-router.min.js"></script>
        <script src="js/angular-translate.js" type="text/javascript"></script>

        <script src="lib/ionic.min.js"></script>   
        <script src="lib/messenger.min.js"></script>

        <script src="lib/ng-grid-2.0.7.min.js"></script>
        <script src="lib/ng-grid-layout.js"></script>
        <script src="lib/ng-infinite-scroll.min.js"></script>
        <script src="lib/ionic-angular.min.js"></script>


        <script type="text/javascript" src="cordova.js"></script>
        <script src="js/Chart.js" type="text/javascript"></script>
        <script src="js/Chart.min.js" type="text/javascript"></script>
        <script src="js/angular-chart.min.js" type="text/javascript"></script>
         <script src="js/calendar.js" type="text/javascript"></script>

        <script src="js/angular-chart.js" type="text/javascript"></script>
        <script src="js/html2canvas.js" type="text/javascript"></script>

        <script type="text/javascript" src="js/index.js"></script>
        <script type="text/javascript" src="js/services.js"></script>
        <script type="text/javascript" src="js/app.js"></script>

    <ion-nav-view no-animation style="background-color:transparent">
    </ion-nav-view>
        
    <script type="text/javascript">
        var Envrmnt = ".Net";
        var imageUrl = "http://sanfmcg.com/";
      //  var imageUrl = "http://www.trial.sanfmcg.com/";
      //  var imageUrl = "http://savorit.sanfmcg.com/";
      // var baseURL = "http://localhost:8082/db.php?axn=";
        var baseURL = imageUrl + "server/db_kc.php?axn=";
  //var baseURL = imageUrl + "server/db.php?axn=";

  var UploadPath = imageUrl + "SFM/medUpDt/";
  var Path = imageUrl + "MasterFiles/";
  var MailPath = Path + "Mails/Attachment/";
  var mp3Path = Path + "Files/MP3/";
  var mp4Path = Path + "Files/MP4/";
  var imgPath = Path + "Files/JPG/";
  var productImgPath = imageUrl + "test_img/";
        Exitflag = false;
        var _currentLocation = {};
        __DevID = "";

        function startGPS() {
            try {
                sangps.echoGPS();
            } catch (e) {
            }
        }
        document.addEventListener("deviceready", onDeviceReady, false);
        function onDeviceReady() {
      //     private String sdf()
      //     {
      //       return "welcome";
      //     }
      //     console.log(sangps.sdf());
            document.addEventListener("backbutton", backKeyDown, true);
            document.addEventListener("resume", onResume, true);
            navigator.app.overrideBackbutton(true);

            window.plugins.uniqueDeviceID.get(function success(uuid) {
                __DevID = uuid;
                dispDivID();
            }, function() {});

            var temp = window.localStorage.getItem("loginInfo");
            var userData = (temp != null && temp.length > 0) ? JSON.parse(temp) : null;
            if (userData && userData['GeoChk'] == 0)
            {
                sangps.intiGPS();
            }
            function backKeyDown() {
                if (document.location.hash.indexOf("sign-in") > -1) {
                    if (Exitflag == true)
                    {
                        navigator.app.exitApp();
                    } else {
                        Exitflag = true
                        Toast('Press again to Exit');
                        navigator.app.exitapp();
                    }
                }
                else if (document.location.hash.indexOf("home") > -1) {
                    if (confirm("Do want to Logout?") == true) {
                        window.location.href = "#sign-in";
                    }
                    navigator.app.exitapp();
                }
                return false;
            }
        }

        dispDivID = function() {
            elem = document.getElementById("devID");
            if (elem != null)
                elem.innerHTML = 'Device ID : ' + __DevID + "<br>";
        }

        function onResume() {
            dispDivID();
            var temp = window.localStorage.getItem("loginInfo");
            var userData = (temp != null && temp.length > 0) ? JSON.parse(temp) : null;
            if (userData && userData['GeoChk'] == 0) {
                sangps.echoGPS();
            }
        }
        document.addEventListener('focusout', function(e) {
            window.scrollTo(0, 0);
        });

        function getTower() {
            sangps.getTowerLocation();
            setTimeout(getTower(), 5000);
        }

        ///getTower();
        var addreq = false;
        function getTower(det) {
            elem = document.getElementById("infTwr");
            console.log(det);
            loc = det.split(';');
            if (elem != null) {
                elem.innerHTML = "Tow : ";
                elem.innerHTML += 'MCC : ' + loc[0] + "<br>";
                elem.innerHTML += 'MNC : ' + loc[1] + "<br>";
                elem.innerHTML += 'CID : ' + loc[2] + "<br>";
                elem.innerHTML += 'Loc : ' + loc[3] + "<br>";
            }
        }
        function getLocation(sLoc) {
            _currentLocation = {};
            loc = sLoc.split(';');
            _currentLocation.Latitude = loc[0];
            _currentLocation.Longitude = loc[1];
            ndt = new Date();
            ndt.setTime(loc[2]);
            _currentLocation.Time = ndt;
            _currentLocation.address = '';
            //console.log(sLoc)
            elem = document.getElementById("inf");
            if (elem != null) {
                elem.innerHTML = "Curr : "
                elem.innerHTML += _currentLocation.Time + "<br>";
                elem.innerHTML += _currentLocation.Latitude + "<br>";
                elem.innerHTML += _currentLocation.Longitude + "<br>";
            }
        }
        app.initialize();
    </script>
</body>
</html>