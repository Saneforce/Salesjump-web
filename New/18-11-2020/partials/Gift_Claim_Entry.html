<ion-view class="ion-viewport">
    <ion-content  class="screen-parent">
        <div style="padding: 10px;" class="list list-inset">
            <div class="select-component" ng-hide="view_MR">
                <div class="label">
                    <div class="label-text">Headquarters</div>
                </div>
                <div class="select-box">
                    <div class="input-box">
                        <div  class="input-css" ng-click="openModal('subordinate_master', 103)">
                            {{(Reload.subordinate.selected.id| getValueforIDD : {'collection' : subordinates}).name || "Select the Headquarters"}}
                        </div>
                    </div>
                </div>
            </div>
            <div class="select-component">
                <div class="label">
                    <div class="label-text">{{StkRoute}}<label style="color: red;"> &nbsp;*</label></div>
                </div>
                <div class="select-box">
                    <div class="input-box">
                        <div class="input-css" ng-click="openModal('town_master', 502, Retailer.subordinate.selected.id)">
                            {{(Retailer.cluster.selected.id| getValueforIDD : {'collection' : myTpTwns}).name || "Select the Route"  }}
                        </div>
                    </div>
                </div>
            </div>
            <div class="select-component">
                <div class="label">
                    <div class="label-text">Retailer Name<label style="color: red;"> &nbsp;*</label></div>
                </div>
                <div class="select-box">
                    <div class="input-box">
                        <div class="input-css" ng-click="vibrate();
                            openModal('doctor_master', 503, Retailer.subordinate.selected.id)">
                            {{(Retailer.doctor.selected.id| getValueforIDD : {'collection' : doctors}).name  || "Select "+DrCap}}
                        </div>
                    </div>
                </div>
            </div>
            <div class="select-component" ">
                <div class="label">
                    <div class="label-text">{{StkCap}}<label style="color: red;"> &nbsp;*</label></div>
                </div>
                <div class="select-box">
                    <div class="input-box">
                        <div class="input-css" ng-click="vibrate();openModal('stockist_master', 510, Retailer.subordinate.selected.id)">
                            {{(Retailer.stockist.selected.id| getValueforIDD : {'collection' : stockists}).name || "Select "+StkCap}}
                        </div>
                    </div>
                </div>
            </div>
            <ion-list style="font-size:16px;background-color: green"   ng-if="precall==0">
                <div>
                    <div class = "row">
                        <div class = "col txtCaption">Retailer Channel</div>
                        <div class = "col txtValue">{{vwPreCall.DrSpl|| "-"}}</div>
                    </div>
                    <div class = "row">
                        <div class = "col txtCaption">Class</div>
                        <div class = "col txtValue">{{vwPreCall.DrCat|| "-"}}</div>
                    </div>
                    <div class = "row"  ng-if="Gift_Claim==1">
                        <div class = "col-50 txtCaption"style="margin-left: 4px;">SCH Enrolment</div>
                        <div class = "col-50 txtValue">{{vwPreCall.SlabName|| "-"}}</div>
                        <div ng-click="vibrate();openModal(SlabTypes,127)" class = "col-20 txtCaption" style="text-align: end;color:  #f8920b;"></div>
                    </div>
                    <div class = "row">
                        <div class = "col txtCaption">Monthly Order Value</div>
                        <div class = "col txtValue">{{fmcgData.MOV|| "0"}}</div>
                    </div>
                    <div class = "row">
                        <div class = "col txtCaption">Last visited</div>
                        <div class = "col txtValue">{{vwPreCall.LVDt|| "-"}}</div>
                    </div>
                    <div class = "row" ng-if="(','+RetailerNeeded+',').indexOf(',cp,')>-1">
                        <div class = "col txtCaption"> ContactPerson</div>
                        <div class = "col txtValue">{{ContactPerson|| "-"}}</div>
                    </div>
                    <div class = "row" ng-if="(','+RetailerNeeded+',').indexOf(',ph,')>-1">
                        <div class = "col txtCaption"> Mobile number</div>
                        <div class = "col txtValue" ng-click="MakeCall(MobileNumber)"     >{{MobileNumber|| "-"}}</div>
                    </div>
                </div>
            </ion-list>
            <div class="select-component" ng-if="fmcgData.GiftClaim_Id==1">
                <div class="label">
                    <div class="label-text">Display Scheme <label style="color: red;">&nbsp; *</label></div>
                </div>
                <div class="select-box">
                    <div class="input-box">
                        <input type="text" class="input-css"  ng-model="fmcgData.DisplayScheme" placeholder="Enter the Scheme  Name">     
                    </div>
                </div>
            </div>
            <div class="select-component">
                <div class="label">
                    <div class="label-text">Start Date </div>
                </div>
                <div class="select-box">
                    <div class="input-box">
                        <input  type="date" ng-model="fmcgData.startdate" class="input-css" placeholder="Start Date" ng-click="vibrate();"> 
                    </div>
                </div>
            </div>
            <div class="select-component">
                <div class="label">
                    <div class="label-text">End Date </div>
                </div>
                <div class="select-box">
                    <div class="input-box">
                        <input  type="date" ng-model="fmcgData.EndDate" class="input-css" placeholder="End  Date" ng-click="vibrate();"> 
                    </div>
                </div>
            </div>
            <div class="select-component" ng-if="fmcgData.GiftClaim_Id==3">
                <div class="label" >
                    <div class="label-text">Slab Type</div>
                </div>
                <div class="select-box" >
                    <div class="input-box">
                        <div class="input-css" ng-click="vibrate();openModal(SlabTypes,127)">
                            {{(fmcgData.SlabTypes.selected.id| getValueforIDD : {'collection' : SlabTypes}).name || "Select Slab Type"}}
                        </div>
                    </div>
                </div>
            </div>
            <div class="select-component" ng-if="fmcgData.GiftClaim_Id==3">
                <div class="label" >
                    <div class="label-text">Gift Claim</div>
                </div>
                <div class="select-box" >
                    <div class="input-box">
                        <div class="input-css" ng-click="vibrate();openModal(GiftEnrolment,128)">
                            {{(fmcgData.GiftClaim.selected.id| getValueforIDD : {'collection' : GiftEnrolment}).GiftName || "Select Gift Claim"}}
                        </div>
                    </div>
                </div>
            </div>
            <div class="select-component" ng-if="fmcgData.GiftClaim_Id==1">
                <div class="label">
                    <div class="label-text">Expected Business </div>
                </div>
                <div class="select-box">
                    <div class="input-box">
                        <input  type="number" ng-model="fmcgData.ExptBusiness" class="input-css" placeholder="Enter Business" ng-click="vibrate();"> 
                    </div>
                </div>
            </div>
            <div class="row" style="font-size: small;padding: 0px 9px; color: white;background: #1aacc3;margin-top:5px;text-align: center" >
                <div class="col col-70">
                    Invoice
                </div>
                <div class="col col-30"ng-click="vibrate();AddMore()">
                    <p  style="border: bisque;width: 39px;float: right;border-radius: 22px;border-bottom-color: #d2d2a1;border: solid;
                        ">+</p>
                </div>
            </div>
            <div  ng-repeat="(i,item) in Invoice | limitTo:limit"  style=" margin-top: 9px;">
                <div class="row" >
                    <div class="giftcol col-10" style="height: 100%;width: 150%;">
                        <img  style="
                            margin-top: 5px;
                            " src="img/calicons.png">
                    </div>
                    <div class="giftcol col-40">
                        <input  type="date" ng-model="item.date" class="inputclaim-css" placeholder="Date" ng-click="vibrate();"> 
                    </div>
                    <div class="giftcol col-25">
                        <input  type="number" ng-model="item.number" class="inputclaim-css" placeholder="No" ng-click="vibrate();"> 
                    </div>
                    <div class="giftcol col-25">
                        <input  type="number" ng-model="item.Amount" class="inputclaim-css" placeholder="Amount" ng-click="vibrate();"> 
                    </div>
                </div>
                <hr style="border: 0px;border-bottom: dotted 1px #498f24;">
            </div>
            <div class="row" ng-if="fmcgData.GiftClaim_Id==2"style="font-size: small;padding: 0px 9px; color: white;background: #1aacc3;margin-top:5px;text-align: center" >
                <div class="col col-70">
                    Add Gift
                </div>
                <div class="col col-30"ng-click="vibrate();AddGift()">
                    <p  style="border: bisque;width: 39px;float: right;border-radius: 22px;border-bottom-color: #d2d2a1;border: solid;
                        ">+</p>
                </div>
            </div>
            <div ng-if="fmcgData.GiftClaim_Id==2"  ng-repeat="(i,item) in fmcgData.Gift_ProductBilled | limitTo:giftlimit"  style=" margin-top: 9px;">
                <div class="row" >
                    <div class="giftcol col-50">
                        <input  type="text" ng-model="item.gifName" class="inputclaim-css" placeholder="Select Name" ng-click="vibrate();openModal(GiftEnrolment,129,item.giftCount)" readonly="true"> 
                    </div>
                    <div class="giftcol col-50">
                        <input  type="number" ng-model="item.GiftQty" class="inputclaim-css" placeholder="Qty" ng-click="vibrate();"> 
                    </div>
                </div>
                <hr style="border: 0px;border-bottom: dotted 1px #498f24;">
            </div>
            <div class="row" ng-if="fmcgData.GiftClaim_Id==2"style="font-size: small;padding: 0px 9px; color: white;background: #1aacc3;margin-top:5px;text-align: center" >
                <div class="col col-70">
                    Add Product
                </div>
                <div class="col col-30"ng-click="vibrate();AddGiftP()">
                    <p  style="border: bisque;width: 39px;float: right;border-radius: 22px;border-bottom-color: #d2d2a1;border: solid;
                        ">+</p>
                </div>
            </div>
            <div>
                <div class="row"  ng-if="fmcgData.GiftClaim_Id==2">
                    <div class="giftcol col-30">
                        Name
                    </div>
                    <div class="giftcol col-70">
                        Qty/Rate/Exp Date
                    </div>
                </div>
                <div ng-if="fmcgData.GiftClaim_Id==2"  ng-repeat="(i,item) in fmcgData.Gift_ProductArray | limitTo:giftlimitP"  style=" margin-top: 9px;">
                    <div >
                        <div >
                            <input  type="text" style="
                                color: darkgreen;
                                " ng-model="item.gifPName"  placeholder="name" ng-click="vibrate();openModal('product_master', 130, Retailer.subordinate.selected.id,item.giftCount)" readonly="true"> 
                        </div>
                    </div>
                    <div class="row" >
                        <div class="giftcol col-25">
                            <input  type="number" ng-model="item.GiftQty" class="inputclaim-css" placeholder="Qty" ng-click="vibrate();"> 
                        </div>
                        <div class="giftcol col-25">
                            <input  type="number" ng-model="item.gifExpRate" class="inputclaim-css" placeholder="rate" > 
                        </div>
                        <div class="giftcol col-40">
                            <input  type="date" ng-model="item.gifExpDate" class="inputclaim-css" placeholder="Expdate">
                        </div>
                        <div class="giftcol col-10" style="height: 100%;width: 150%;">
                            <img  style="
                                margin-top: 5px;
                                " src="img/calicons.png">
                        </div>
                    </div>
                    <hr style="border: 0px;border-bottom: dotted 1px #498f24;">
                </div>
            </div>
            <div class="select-component" ng-if="fmcgData.GiftClaim_Id==1">
                <div class="label">
                    <div class="label-text">Select Product</div>
                </div>
                <div class="select-box">
                    <div class="input-box">
                        <div class="input-css" ng-click="vibrate();
                            openModal('product_master', 91, Retailer.subordinate.selected.id)">
                            {{fmcgData.jointwork.name|| "Select Product"}}
                        </div>
                    </div>
                </div>
            </div>
            <div class="gridStyle" ng-if="fmcgData.GiftClaim_Id==1" ng-grid="gridOptions" style="height: 500px" >
            </div>
        </div>
        <div class="col"  >
            <div class='buttonC-container left-sidepull' ng-click="vibrate();openOptMenu()">
                <div class="buttonC">
                    <i class="icon ion-images footer-icon" style="line-height: 45px;"></i>
                </div>
                <div class='buttonC-text'>Product Image</div>
            </div>
        </div>
        <button class="button buttonClear  button-balanced pull-right"  ng-click="vibrate();save()">
        Save
        </button>
    </ion-content>
</ion-view>